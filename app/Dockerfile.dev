# Create this file as app/Dockerfile.dev
FROM node:20

WORKDIR /app

# Copy and fix the entrypoint script
COPY entrypoint_npm.DEV.sh /usr/local/bin/entrypoint.sh
RUN sed -i 's/\r$//' /usr/local/bin/entrypoint.sh && \
    chmod +x /usr/local/bin/entrypoint.sh

# Create volume mount point
RUN mkdir -p /app/node_modules

EXPOSE 3000

ENTRYPOINT ["/usr/local/bin/entrypoint.sh"]